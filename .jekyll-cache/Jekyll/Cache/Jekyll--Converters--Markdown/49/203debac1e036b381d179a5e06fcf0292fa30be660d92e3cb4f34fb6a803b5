I"º<p>Contar objetos en una imagen es una tarea de visi√≥n por computadora. Hay un mont√≥n de librer√≠as de visi√≥n por computadora en Python que podemos usar para esta tarea. Est√° vez usaremos un enfoque muy simple para contar objetos en una imagen usando Python.</p>

<h1 id="c√≥mo-contar-objetos-en-una-imagen-usando-python">¬øC√≥mo contar objetos en una imagen usando Python?</h1>
<p>Hay muchas librer√≠as de visi√≥n por computadora que podemos usar para esta tarea, como OpenCV, TensorFlow, Pytorch, Scikit-image y cvlib. Esta √∫ltima es una librer√≠a de visi√≥n por computadora muy simple, de alto nivel y f√°cil de usar en Python.
Usando las caracter√≠sticas de esta librer√≠a, podemos contar la cantidad de objetos en una imagen usando Python. Para poder usar esta librer√≠a, debemos est√°r seguros de tener OpenCV y TensorFlow instalados en nuestro sistema. Se pueden instalar f√°cilmente usando el comando: <code class="language-plaintext highlighter-rouge">pip install cvlib</code>.</p>

<h1 id="contar-objetos-en-una-imagen-usando-python">Contar objetos en una imagen usando Python</h1>
<p>Ahora veremos c√≥mo usar la librer√≠a <code class="language-plaintext highlighter-rouge">cvlib</code> para contar el n√∫mero de objetos en una imagen usando Python. Primero leeremos una imagen usando la librer√≠a OpenCV, luego detectaremos todos los objetos particulares usando <code class="language-plaintext highlighter-rouge">cvlib</code>. La imagen que usaremos para esta tarea se muestra a continuaci√≥n y la podemos descargar <a href="https://drive.google.com/file/d/14hgyVrVxQ3vPNRO2GGHdUxxOpAgoug6n/view?usp=sharing"><strong>aqu√≠</strong></a>
<img src="/img/posts/2021-05-15-contar-objetos-imagenes-python/vehiculos.jpg" alt="Veh√≠culos" /></p>

<p>Como podemos ver, la imagen que estamos usando aqu√≠ para la tarea de contar objetos en una imagen usando Python contiene veh√≠culos. Primero, detectaremos todos los veh√≠culos en la imagen y despu√©s contaremos el n√∫mero de autos que hay entre ellos. A continuaci√≥n se muestra c√≥mo podemos contar la cantidad de autos en una imagen usando Python:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span>     <span class="kn">import</span> <span class="nn">cv2</span>
            <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
            <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
            <span class="kn">import</span> <span class="nn">cvlib</span> <span class="k">as</span> <span class="n">cv</span>
            <span class="kn">from</span> <span class="nn">cvlib.object_detection</span> <span class="kn">import</span> <span class="n">draw_bbox</span>
            <span class="kn">from</span> <span class="nn">numpy.lib.polynomial</span> <span class="kn">import</span> <span class="n">poly</span>

            <span class="n">imagen</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">imread</span><span class="p">(</span><span class="s">"vehiculos.jpg"</span><span class="p">)</span>
            <span class="n">cuadro</span><span class="p">,</span> <span class="n">etiqueta</span><span class="p">,</span> <span class="n">contar</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="n">detect_common_objects</span><span class="p">(</span><span class="n">imagen</span><span class="p">)</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">draw_bbox</span><span class="p">(</span><span class="n">imagen</span><span class="p">,</span> <span class="n">cuadro</span><span class="p">,</span> <span class="n">etiqueta</span><span class="p">,</span> <span class="n">contar</span><span class="p">)</span>
            <span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
            <span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"El n√∫mero de autos en la imagen es "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">etiqueta</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="s">'car'</span><span class="p">)))</span>
</code></pre></div></div>
<p>Despu√©s de ejecutar el c√≥digo anterior, veremos una imagen como la que se muestra a continuaci√≥n:
<img src="/img/posts/2021-05-15-contar-objetos-imagenes-python/Figure_1.png" alt="Detecci√≥n de objetos en imagen" />
Despu√©s de cerrar nuestra imagen, veremos lo siguiente en nuestra terminal:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>out [1]:    El n√∫mero de autos en la imagen es 10
</code></pre></div></div>
<p>Es as√≠ como podemos contar el n√∫mero de objetos utilizando la librer√≠a <code class="language-plaintext highlighter-rouge">cvlib</code> en Python. Recuerda que podemos utilizar esta librer√≠a para diversas tareas de visi√≥n por computadora.</p>

<p>Puedes descargar el c√≥digo de este projecto <a href="https://drive.google.com/file/d/1XbnAUrXnXEWMfxvkOcGeFCmf_l6pG6bt/view?usp=sharing"><strong>aqu√≠</strong></a></p>
:ET